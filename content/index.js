function send(n,t){chrome.runtime.sendMessage(n,t)}function ddict(n){function t(t,o,a){e(t,o,function(t){a(t.html,t.rtl),n.auto_audio&&i(t.audio)})}function e(n,t,e){send({channel:"translate",src:t||"content",data:n},function(n){e(n)})}function i(n){n&&send({channel:"audio",data:n},function(){})}bubble=Bubble({dblclick:n.dblclick,shift:n.shift,btn:n.btn,spin:spin,logo:logo,onText:t,onClick:function(n){n&&n.target&&n.target.className&&"ddict_audio"===n.target.className&&i(n.target.dataset.url)}})}var bubble;chrome.runtime.onMessage.addListener(function(n){n&&bubble&&bubble.notify(n)});var spin=chrome.extension.getURL("/img/spin.gif"),logo=chrome.extension.getURL("/icon/16.png");send({channel:"get"},function(n){ddict(n)}),"dashboard.ddict.me"===location.hostname&&send({channel:"loggedin",data:!("/login"===location.pathname)},function(){});var Bubble=require("bubble");